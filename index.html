<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã“ã¨ã°ã®ãƒˆãƒ“ãƒ©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <style>
    @keyframes pop {
  0% { transform: scale(0.8); opacity: 0; }
  50% { transform: scale(1.2); opacity: 1; }
  100% { transform: scale(1); }
}

@keyframes fadein {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

    body {
      font-family: "BIZ UDã‚´ã‚·ãƒƒã‚¯", "Yu Gothic", "Hiragino Kaku Gothic ProN", sans-serif;
      text-align: center;
      background: #eef;
      margin: 0;
      padding: 0;
      touch-action: manipulation;
    }
    #question {
  font-size: 2.5em;
  margin: 30px 10px 10px;
  padding: 0 10px;
  line-height: 1.5;}
    #doors {
  display: flex;
  justify-content: center;
  gap: 24px;
  flex-wrap: wrap;
  padding: 10px 20px;
}
    .option-button {
  width: 150px;
  height: 200px;
  font-size: 1.6em;
  writing-mode: vertical-rl;
  background-color: sienna;
  color: #fff9c4;
  border: 3px solid #333;
  border-radius: 12px;
  box-shadow: 3px 3px 5px rgba(0, 0, 0, 0.4);
  cursor: pointer;
  position: relative;
  transition: transform 0.4s ease-in-out;
  transform-style: preserve-3d;
  margin: 10px;
  touch-action: manipulation;
}

    .option-button.opened {
      animation: doorOpen 0.6s forwards;
    }
    @keyframes doorOpen {
      0% { transform: rotateY(0); opacity: 1; }
      100% { transform: rotateY(90deg); opacity: 0; }
    }
    .option-button::before {
      content: "";
      position: absolute;
      width: 10px;
      height: 10px;
      background: gray;
      border-radius: 50%;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
    }
    .feedback-mark {
      position: absolute;
      font-size: 3em;
      font-weight: bold;
      transform: translate(-50%, -50%);
      z-index: 10;
      pointer-events: none;
    }
    .option-button:hover {
  transform: none; /* hoverã«ã‚ˆã‚‹å›è»¢ã‚’ç„¡åŠ¹åŒ–ã—ã¦ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§ã®èª¤åå¿œé˜²æ­¢ */
}
    .feedback {
      font-size: 2em;
      margin-top: 20px;
      color: red;
      font-weight: bold;
    }
    #result {
      display: none;
      font-size: 1.5em;
      margin-top: 20px;
    }
    .correct-frame {
      position: absolute;
      border: 5px solid red;
      border-radius: 12px;
      pointer-events: none;
      z-index: 9;
    }
  </style>
</head>
<body>
  <h1 style="font-size: 2em;">ã“ã¨ã°ã®ãƒˆãƒ“ãƒ©</h1>
  <div id="question"></div>
  <div id="doors"></div>
  <div id="feedback" class="feedback"></div>
  <div id="result"></div>

  <script>
    const fullQuizData = [
  { "sentence": "ã‹ã‚Œã¯ãŠé‡‘ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ï¼¿ï¼¿ï¼¿ã€ãŒã¾ã‚“ã—ã¾ã—ãŸã€‚", "options": ["ã ã‹ã‚‰", "ã§ã‚‚", "ãã‚Œã«"], "answer": "ã ã‹ã‚‰" },
  { "sentence": "ã‹ã‚Œã¯ãŠãªã‹ãŒã™ã„ã¦ã„ã¾ã™ã€‚ï¼¿ï¼¿ï¼¿ã€ãƒ‘ãƒ³ã‚’è²·ã„ã¾ã—ãŸã€‚", "options": ["ã ã‹ã‚‰", "ã‘ã‚Œã©ã‚‚", "ã¤ã¾ã‚Š"], "answer": "ã ã‹ã‚‰" },
  { "sentence": "ã­ã¤ãŒã‚ã‚Šã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€å­¦æ ¡ã‚’ä¼‘ã¿ã¾ã—ãŸã€‚", "options": ["ã ã‹ã‚‰", "ã¾ãŸ", "ã—ã‹ã—"], "answer": "ã ã‹ã‚‰" },

  { "sentence": "æœã«é‹å‹•ã‚’ã¯ã˜ã‚ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã‘ã‚“ã“ã†ã«ãªã‚Šã¾ã—ãŸã€‚", "options": ["ãã‚Œã§", "ã—ã‹ã—", "ã¾ãŸã¯"], "answer": "ãã‚Œã§" },
  { "sentence": "é“ã«ã¾ã‚ˆã„ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€äººã«é“ã‚’ãŸãšã­ã¾ã—ãŸã€‚", "options": ["ãã‚Œã§", "ã§ã‚‚", "ã¤ã¾ã‚Š"], "answer": "ãã‚Œã§" },
  { "sentence": "é›¨ãŒãµã‚Šã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã†ã‚“ã©ã†ä¼šã¯ã¡ã‚…ã†ã—ã«ãªã‚Šã¾ã—ãŸã€‚", "options": ["ãã‚Œã§", "ãã‚Œã¨ã‚‚", "ãŸã¨ãˆã°"], "answer": "ãã‚Œã§" },

  { "sentence": "é›¨ãŒãµã£ã¦ã„ã¾ã™ã€‚ï¼¿ï¼¿ï¼¿ã€ã†ã‚“ã©ã†ä¼šã¯ã¡ã‚…ã†ã—ã«ãªã‚Šã¾ã—ãŸã€‚", "options": ["ãã®ãŸã‚", "ã ã‘ã©", "ãŸã¨ãˆã°"], "answer": "ãã®ãŸã‚" },
  { "sentence": "ãƒ‰ã‚¢ã‚’ã—ã‚ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã¸ã‚„ãŒã—ãšã‹ã«ãªã‚Šã¾ã—ãŸã€‚", "options": ["ãã®ãŸã‚", "ã‘ã‚Œã©ã‚‚", "ãã‚Œã¨ã‚‚"], "answer": "ãã®ãŸã‚" },
  { "sentence": "ãŠé‡‘ã‚’ä½¿ã„ã™ãã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€è²¯é‡‘ãŒã¸ã‚Šã¾ã—ãŸã€‚", "options": ["ãã®ãŸã‚", "ã§ã‚‚", "ã•ã¦"], "answer": "ãã®ãŸã‚" },

  { "sentence": "ç”ºã«è»Šã‚„å·¥å ´ãŒãµãˆã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ç”ºã®ç©ºæ°—ãŒã‚ˆã”ã‚Œã¦ãã¾ã—ãŸã€‚", "options": ["ã“ã®ã‚ˆã†ãªã“ã¨ã‹ã‚‰", "ãã—ã¦", "ã‘ã‚Œã©ã‚‚"], "answer": "ã“ã®ã‚ˆã†ãªã“ã¨ã‹ã‚‰" },
  { "sentence": "å½¼ã¯ã™ãã«æ€’ã‚‹ã†ãˆã«ã€ã‚ãŒã¾ã¾ã ã€‚ï¼¿ï¼¿ï¼¿ã€ã¿ã‚“ãªã¯å½¼ã‚’ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³ã®ã‚ˆã†ã ã¨è¨€ã£ã¦ã„ã‚‹ã€‚", "options": ["ã“ã®ã‚ˆã†ãªã“ã¨ã‹ã‚‰", "ã—ã‹ã—", "ãªãœã‹ã¨ã„ã†ã¨"], "answer": "ã“ã®ã‚ˆã†ãªã“ã¨ã‹ã‚‰" },
  { "sentence": "æ¯æ—¥ãƒã‚³ã‚«ãƒ•ã‚§ã«è¡Œã£ãŸã‚Šã€ç”ºã®ãƒã‚³ã®å†™çœŸã‚’ã¨ã‚‹ã€‚ï¼¿ï¼¿ï¼¿ã€ãƒã‚³å¥½ãã ã¨ã„ãˆã‚‹ã€‚", "options": ["ã“ã®ã‚ˆã†ãªã“ã¨ã‹ã‚‰", "ãŸã¨ãˆã°", "ã§ã‚‚"], "answer": "ã“ã®ã‚ˆã†ãªã“ã¨ã‹ã‚‰" },

  { "sentence": "ãŒã‚“ã°ã£ã¦èµ°ã‚Šã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ãƒ“ãƒªã§ã—ãŸã€‚", "options": ["ã—ã‹ã—", "ã ã‹ã‚‰", "ã¾ãŸã¯"], "answer": "ã—ã‹ã—" },
  { "sentence": "æœ¬æ°—ã§ã‚ã–ã‚’å‡ºã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã¾ã£ãŸããã„ã¦ã„ãªã„ã€‚", "options": ["ã—ã‹ã—", "ãã‚Œã§", "ãã‚Œã¨ã‚‚"], "answer": "ã—ã‹ã—" },
  { "sentence": "å‹ã ã¡ã‚’ã•ãã„ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€æ¥ã¾ã›ã‚“ã§ã—ãŸã€‚", "options": ["ã—ã‹ã—", "ã ã‹ã‚‰", "ã•ã¦"], "answer": "ã—ã‹ã—" },

  { "sentence": "é›¨ãŒãµã£ã¦ã„ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã‹ã‚Œã¯å¤–ã§ã‚ãã³ã¾ã—ãŸã€‚", "options": ["ãã‚Œã§ã‚‚", "ãã‚Œã«", "ã ã‹ã‚‰"], "answer": "ãã‚Œã§ã‚‚" },
  { "sentence": "é“ã«ã¾ã‚ˆã£ãŸã®ã§åœ°å›³ã‚’è¦‹ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã¾ã£ãŸãåˆ†ã‹ã‚‰ãªã„ã€‚", "options": ["ãã‚Œã§ã‚‚", "ã‘ã‚Œã©ã‚‚", "ãã—ã¦"], "answer": "ãã‚Œã§ã‚‚" },
  { "sentence": "ã­ã¤ãŒã‚ã‚Šã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€å­¦æ ¡ã«æ¥ã¾ã—ãŸã€‚", "options": ["ãã‚Œã§ã‚‚", "ãŸã¨ãˆã°", "ã ã‹ã‚‰"], "answer": "ãã‚Œã§ã‚‚" },

  { "sentence": "ã¨ã¦ã‚‚ã¤ã‹ã‚Œã¦ã„ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã¡ã‚ƒã‚“ã¨ã‚„ã‚Šã¾ã—ãŸã€‚", "options": ["ã§ã‚‚", "ã ã‹ã‚‰", "ãã—ã¦"], "answer": "ã§ã‚‚" },
  { "sentence": "éŠã³ãŸã‹ã£ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ä»Šæ—¥ã¯ãŒã¾ã‚“ã—ã¾ã—ãŸã€‚", "options": ["ã§ã‚‚", "ãã‚Œã§", "ã—ã‹ã‚‚"], "answer": "ã§ã‚‚" },
  { "sentence": "ã“ã‚ã‹ã£ãŸã€‚ï¼¿ï¼¿ï¼¿ã€è¡Œã£ã¦ã¿ã¾ã—ãŸã€‚", "options": ["ã§ã‚‚", "ã ã‹ã‚‰", "ã‚ˆã†ã™ã‚‹ã«"], "answer": "ã§ã‚‚" },

  { "sentence": "å…¬åœ’ã«è¡ŒããŸã‹ã£ãŸã§ã™ã€‚ï¼¿ï¼¿ï¼¿ã€è¡Œã‘ã¾ã›ã‚“ã§ã—ãŸã€‚", "options": ["ã‘ã‚Œã©ã‚‚", "ãã—ã¦", "ã ã‹ã‚‰"], "answer": "ã‘ã‚Œã©ã‚‚" },
  { "sentence": "ã“ã®ã‚²ãƒ¼ãƒ ã¯ã‚€ãšã‹ã—ã„ã€‚ï¼¿ï¼¿ï¼¿ã€ã¨ã¦ã‚‚ãŠã‚‚ã—ã‚ã„ã€‚", "options": ["ã‘ã‚Œã©ã‚‚", "ã ã‹ã‚‰", "ã•ã¦"], "answer": "ã‘ã‚Œã©ã‚‚" },
  { "sentence": "ãŒã‚“ã°ã‚Šã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã†ã¾ãã§ãã¾ã›ã‚“ã§ã—ãŸã€‚", "options": ["ã‘ã‚Œã©ã‚‚", "ãã‚Œã¨ã‚‚", "ã¾ãŸã¯"], "answer": "ã‘ã‚Œã©ã‚‚" },

  { "sentence": "å‹ã ã¡ã¨ã‘ã‚“ã‹ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ãã‚‡ã†ã¯ä¸€æ—¥ã‹ãªã—ã‹ã£ãŸã€‚", "options": ["ãã‚Œã§", "ã—ã‹ã—", "ã¾ãŸã¯"], "answer": "ãã‚Œã§" },
  { "sentence": "é“ã«ã¾ã‚ˆã„ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€äººã«ãŸãšã­ã¾ã—ãŸã€‚", "options": ["ãã‚Œã§", "ã§ã‚‚", "ã¤ã¾ã‚Š"], "answer": "ãã‚Œã§" },
  { "sentence": "é›¨ãŒãµã‚Šã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã†ã‚“ã©ã†ä¼šã¯ã¡ã‚…ã†ã—ã«ãªã‚Šã¾ã—ãŸã€‚", "options": ["ãã‚Œã§", "ãã‚Œã¨ã‚‚", "ãŸã¨ãˆã°"], "answer": "ãã‚Œã§" },

  { "sentence": "é›¨ãŒãµã£ã¦ã„ã¾ã™ã€‚ï¼¿ï¼¿ï¼¿ã€ã†ã‚“ã©ã†ä¼šã¯ã¡ã‚…ã†ã—ã«ãªã‚Šã¾ã—ãŸã€‚", "options": ["ãã®ãŸã‚", "ã ã‘ã©", "ãŸã¨ãˆã°"], "answer": "ãã®ãŸã‚" },
  { "sentence": "ãƒ‰ã‚¢ã‚’ã—ã‚ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã¸ã‚„ãŒã—ãšã‹ã«ãªã‚Šã¾ã—ãŸã€‚", "options": ["ãã®ãŸã‚", "ã‘ã‚Œã©ã‚‚", "ã¤ã¾ã‚Š"], "answer": "ãã®ãŸã‚" },
  { "sentence": "ãŠé‡‘ã‚’ä½¿ã„ã™ãã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€è²¯é‡‘ãŒã¸ã‚Šã¾ã—ãŸã€‚", "options": ["ãã®ãŸã‚", "ã§ã‚‚", "ãã—ã¦"], "answer": "ãã®ãŸã‚" },

  { "sentence": "ãŒã‚“ã°ã£ã¦èµ°ã‚Šã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ãƒ“ãƒªã§ã—ãŸã€‚", "options": ["ã—ã‹ã—", "ã ã‹ã‚‰", "ã¾ãŸã¯"], "answer": "ã—ã‹ã—" },
  { "sentence": "ã„ã£ã—ã‚‡ã†ã‘ã‚“ã‚ã„å‹‰å¼·ã‚’ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€100ç‚¹ãŒã¨ã‚Œãªã‹ã£ãŸã€‚", "options": ["ã—ã‹ã—", "ãã‚Œã§", "ãã‚Œã¨ã‚‚"], "answer": "ã—ã‹ã—" },
  { "sentence": "å‹ã ã¡ã‚’ã•ãã„ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€æ¥ã¾ã›ã‚“ã§ã—ãŸã€‚", "options": ["ã—ã‹ã—", "ã ã‹ã‚‰", "ã•ã¦"], "answer": "ã—ã‹ã—" },

  { "sentence": "é›¨ãŒãµã£ã¦ã„ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã‹ã‚Œã¯å¤–ã§ã‚ãã³ã¾ã—ãŸã€‚", "options": ["ãã‚Œã§ã‚‚", "ãã‚Œã«", "ã ã‹ã‚‰"], "answer": "ãã‚Œã§ã‚‚" },
  { "sentence": "ãŠã“ã‚‰ã‚Œã‚‹ã¨æ€ã„ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€å…ˆç”Ÿã¯ã«ã“ã«ã“ã—ã¦ã„ã¾ã—ãŸã€‚", "options": ["ãã‚Œã§ã‚‚", "ã ã‹ã‚‰", "ãã—ã¦"], "answer": "ãã‚Œã§ã‚‚" },
  { "sentence": "ã­ã¤ãŒã‚ã‚Šã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€å­¦æ ¡ã«æ¥ã¾ã—ãŸã€‚", "options": ["ãã‚Œã§ã‚‚", "ãŸã¨ãˆã°", "ã ã‹ã‚‰"], "answer": "ãã‚Œã§ã‚‚" },

  { "sentence": "ã¨ã¦ã‚‚ã¤ã‹ã‚Œã¦ã„ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã¡ã‚ƒã‚“ã¨ã‚„ã‚Šã¾ã—ãŸã€‚", "options": ["ã§ã‚‚", "ã ã‹ã‚‰", "ãã—ã¦"], "answer": "ã§ã‚‚" },
  { "sentence": "éŠã³ãŸã‹ã£ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ä»Šæ—¥ã¯ãŒã¾ã‚“ã—ã¾ã—ãŸã€‚", "options": ["ã§ã‚‚", "ãã‚Œã§", "ã—ã‹ã‚‚"], "answer": "ã§ã‚‚" },
  { "sentence": "ã“ã‚ã‹ã£ãŸã€‚ï¼¿ï¼¿ï¼¿ã€è¡Œã£ã¦ã¿ã¾ã—ãŸã€‚", "options": ["ã§ã‚‚", "ã ã‹ã‚‰", "ã‚ˆã†ã™ã‚‹ã«"], "answer": "ã§ã‚‚" },

  { "sentence": "å…¬åœ’ã«è¡ŒããŸã‹ã£ãŸã§ã™ã€‚ï¼¿ï¼¿ï¼¿ã€è¡Œã‘ã¾ã›ã‚“ã§ã—ãŸã€‚", "options": ["ã‘ã‚Œã©ã‚‚", "ãã—ã¦", "ã ã‹ã‚‰"], "answer": "ã‘ã‚Œã©ã‚‚" },
  { "sentence": "æ‰‹ä¼ã„ãŸã„ã€‚ï¼¿ï¼¿ï¼¿ã€ä»Šæ—¥ã¯ã‚„ããããŒã‚ã‚Šã¾ã™ã€‚", "options": ["ã‘ã‚Œã©ã‚‚", "ã ã‹ã‚‰", "ã•ã¦"], "answer": "ã‘ã‚Œã©ã‚‚" },
  { "sentence": "ãŒã‚“ã°ã‚Šã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã†ã¾ãã§ãã¾ã›ã‚“ã§ã—ãŸã€‚", "options": ["ã‘ã‚Œã©ã‚‚", "ãã‚Œã¨ã‚‚", "ã¾ãŸã¯"], "answer": "ã‘ã‚Œã©ã‚‚" },

  { "sentence": "ã‹ã‚Œã¯ã‚µãƒƒã‚«ãƒ¼ãŒä¸Šæ‰‹ã§ã™ã€‚ï¼¿ï¼¿ï¼¿ã€ãƒ†ãƒ‹ã‚¹ã‚‚ä¸Šæ‰‹ã§ã™ã€‚", "options": ["ã—ã‹ã‚‚", "ã‘ã‚Œã©ã‚‚", "ãŸã¨ãˆã°"], "answer": "ã—ã‹ã‚‚" },
  { "sentence": "ã“ã®ãµãã¯ã‚„ã™ã„ã§ã™ã€‚ï¼¿ï¼¿ï¼¿ã€ã˜ã‚‡ã†ã¶ã§ã™ã€‚", "options": ["ã—ã‹ã‚‚", "ã§ã‚‚", "ãã®ãŸã‚"], "answer": "ã—ã‹ã‚‚" },
  { "sentence": "ã“ã®æœ¬ã¯ã‹ã‚“ãŸã‚“ã§ã™ã€‚ï¼¿ï¼¿ï¼¿ã€ãŠã‚‚ã—ã‚ã„ã§ã™ã€‚", "options": ["ã—ã‹ã‚‚", "ã‚ˆã†ã™ã‚‹ã«", "ãã‚Œã¨ã‚‚"], "answer": "ã—ã‹ã‚‚" },

  { "sentence": "ã‚Šã‚“ã”ã‚’é£Ÿã¹ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ãƒãƒŠãƒŠã‚‚é£Ÿã¹ã¾ã—ãŸã€‚", "options": ["ã¾ãŸ", "ã—ã‹ã—", "ã ã‹ã‚‰"], "answer": "ã¾ãŸ" },
  { "sentence": "ãˆã‚’ã‹ãã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã†ãŸã‚‚æ­Œã„ã¾ã—ãŸã€‚", "options": ["ã¾ãŸ", "ã‘ã‚Œã©ã‚‚", "ãã®ãŸã‚"], "answer": "ã¾ãŸ" },
  { "sentence": "ã¯ã‚’ã¿ãŒãã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã‹ãŠã‚‚ã‚ã‚‰ã„ã¾ã—ãŸã€‚", "options": ["ã¾ãŸ", "ã§ã‚‚", "ã•ã¦"], "answer": "ã¾ãŸ" },

  { "sentence": "æœã¯7æ™‚ã«èµ·ãã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã”ã¯ã‚“ã‚’ãŸã¹ã¾ã—ãŸã€‚", "options": ["ãã—ã¦", "ãã‚Œã¨ã‚‚", "ã¤ã¾ã‚Š"], "answer": "ãã—ã¦" },
  { "sentence": "ã›ã‚“ãŸãã‚’ã—ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ãã†ã˜ã‚‚ã—ã¾ã—ãŸã€‚", "options": ["ãã—ã¦", "ãŸã¨ãˆã°", "ã—ã‹ã—"], "answer": "ãã—ã¦" },
  { "sentence": "æ‰‹ã‚’ã‚ã‚‰ã„ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã—ã‚‡ãã˜ã‚’ã—ã¾ã—ãŸã€‚", "options": ["ãã—ã¦", "ã‘ã‚Œã©ã‚‚", "ãªãœã‹ã¨ã„ã†ã¨"], "answer": "ãã—ã¦" },

  { "sentence": "ãŠã‹ã—ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã‚¸ãƒ¥ãƒ¼ã‚¹ã‚‚ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚", "options": ["ãã‚Œã«", "ã§ã‚‚", "ã•ã¦"], "answer": "ãã‚Œã«" },
  { "sentence": "ã“ã®é“ã¯ã²ã‚ã„ã§ã™ã€‚ï¼¿ï¼¿ï¼¿ã€æ–°ã—ã„ã§ã™ã€‚", "options": ["ãã‚Œã«", "ã—ã‹ã—", "ã¾ãŸã¯"], "answer": "ãã‚Œã«" },
  { "sentence": "ãã®å…ˆç”Ÿã¯ã‚„ã•ã—ã„ã§ã™ã€‚ï¼¿ï¼¿ï¼¿ã€ã‚ã‹ã‚Šã‚„ã™ã„ã§ã™ã€‚", "options": ["ãã‚Œã«", "ã‘ã‚Œã©ã‚‚", "ã¤ã¾ã‚Š"], "answer": "ãã‚Œã«" },
  
  { "sentence": "ã‚¸ãƒ¥ãƒ¼ã‚¹ã«ã—ã¾ã™ã‹ï¼Ÿï¼¿ï¼¿ï¼¿ã€ãŠã¡ã‚ƒã«ã—ã¾ã™ã‹ï¼Ÿ", "options": ["ãã‚Œã¨ã‚‚", "ã¾ãŸ", "ãã—ã¦"], "answer": "ãã‚Œã¨ã‚‚" },
  { "sentence": "ãŠã¡ã‚ƒã«ã—ã¾ã™ã‹ï¼Ÿï¼¿ï¼¿ï¼¿ã‚³ãƒ¼ãƒ’ãƒ¼ã«ã—ã¾ã™ã‹ï¼Ÿ", "options": ["ãã‚Œã¨ã‚‚", "ã ã‹ã‚‰", "ãŸã¨ãˆã°"], "answer": "ãã‚Œã¨ã‚‚" },
  { "sentence": "Aã‚¯ãƒ©ã‚¹ã«ã—ã¾ã™ã‹ï¼Ÿï¼¿ï¼¿ï¼¿Bã‚¯ãƒ©ã‚¹ã«ã—ã¾ã™ã‹ï¼Ÿ", "options": ["ãã‚Œã¨ã‚‚", "ã—ã‹ã‚‚", "ã§ã‚‚"], "answer": "ãã‚Œã¨ã‚‚" },

  { "sentence": "ã°ã‚“ã”ã¯ã‚“ã¯ãŠè‚‰ã‹ãªã€‚ï¼¿ï¼¿ï¼¿ã€é­šã‹ãªã€‚", "options": ["ã‚ã‚‹ã„ã¯", "ã—ã‹ã‚‚", "ãŸã¨ãˆã°"], "answer": "ã‚ã‚‹ã„ã¯" },
  { "sentence": "ãƒ†ãƒ¬ãƒ“ã‚’è¦‹ã¾ã™ã€‚ï¼¿ï¼¿ï¼¿ã€ã‚²ãƒ¼ãƒ ã‚‚ã—ã¾ã™ã€‚", "options": ["ã‚ã‚‹ã„ã¯", "ã“ã®ã‚ˆã†ãªã“ã¨ã‹ã‚‰", "ã¤ã¾ã‚Š"], "answer": "ã‚ã‚‹ã„ã¯" },
  { "sentence": "é›»è»Šã§è¡Œãï¼Ÿï¼¿ï¼¿ï¼¿ã€ãƒã‚¹ã§è¡Œãï¼Ÿ", "options": ["ã‚ã‚‹ã„ã¯", "ãã—ã¦", "ã“ã®ã‚ˆã†ãªã“ã¨ã‹ã‚‰"], "answer": "ã‚ã‚‹ã„ã¯" },

  { "sentence": "ãŠã‚„ã¤ã¯ãŠã¾ã‚“ã˜ã‚…ã†ã§ã™ã‹ã€‚ï¼¿ï¼¿ï¼¿ã‚¢ã‚¤ã‚¹ã§ã™ã‹ã€‚", "options": ["ã¾ãŸã¯", "ã ã‹ã‚‰", "ãã‚Œã§"], "answer": "ã¾ãŸã¯" },
  { "sentence": "è²·ã£ã¦ãã‚‹ã®ã¯ãƒãƒŠãƒŠã§ã™ã‹ã€‚ï¼¿ï¼¿ï¼¿ãƒªãƒ³ã‚´ã§ã™ã‹ã€‚", "options": ["ã¾ãŸã¯", "ã‘ã‚Œã©ã‚‚", "ã•ã¦"], "answer": "ã¾ãŸã¯" },
  { "sentence": "ãˆã‚“ã´ã¤ã§æ›¸ã„ã¦ãã ã•ã„ã€‚ï¼¿ï¼¿ï¼¿ãƒœãƒ¼ãƒ«ãƒšãƒ³ã§æ›¸ã„ã¦ã‚‚è‰¯ã„ã§ã™ã€‚", "options": ["ã¾ãŸã¯", "ã§ã‚‚", "ã ã‹ã‚‰"], "answer": "ã¾ãŸã¯" },

  { "sentence": "ã“ã®ã‚±ãƒ¼ã‚­ã¯å°éº¦ã‚‚ãŸã¾ã”ã‚‚å…¥ã£ã¦ã„ãªã„ã€‚ï¼¿ï¼¿ï¼¿ã€ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ã®ã‚ã‚‹äººã‚‚é£Ÿã¹ã‚‰ã‚Œã‚‹ã€‚", "options": ["ã¤ã¾ã‚Š", "ã—ã‹ã—", "ã ã‹ã‚‰"], "answer": "ã¤ã¾ã‚Š" },
  { "sentence": "ã‚ã®äºŒäººã¯ã¾ã å£ã‚’ãã‹ãªã„ã€‚ï¼¿ï¼¿ï¼¿ã€ã¾ã ä»²ç›´ã‚Šã‚’ã—ã¦ã„ãªã„ã¨ã„ã†ã“ã¨ã ã€‚ã€‚", "options": ["ã¤ã¾ã‚Š", "ã‘ã‚Œã©ã‚‚", "ã•ã¦"], "answer": "ã¤ã¾ã‚Š" },
  { "sentence": "ãŠã‹ã—ã‚’å…¨éƒ¨é£Ÿã¹ã¦ã—ã¾ã£ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã¿ã‚“ãªãŒæ€’ã‚‹ã¨ã„ã†ã“ã¨ã ã€‚", "options": ["ã¤ã¾ã‚Š", "ã‘ã‚Œã©ã‚‚", "ãŸã¨ãˆã°"], "answer": "ã¤ã¾ã‚Š" },

  { "sentence": "ã¾ã ãªã‚Œã¦ã„ãªã„ã€‚ï¼¿ï¼¿ï¼¿ã€ã‚Œã‚“ã—ã‚…ã†ãŒã²ã¤ã‚ˆã†ã§ã™ã€‚", "options": ["ã‚ˆã†ã™ã‚‹ã«", "ã§ã‚‚", "ãŸã¨ãˆã°"], "answer": "ã‚ˆã†ã™ã‚‹ã«" },
  { "sentence": "ã„ã¤ã‚‚ã­ã¼ã†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ï¼¿ï¼¿ï¼¿ã€æ¯æ—¥ã¡ã“ãã§ã™ã€‚", "options": ["ã‚ˆã†ã™ã‚‹ã«", "ã—ã‹ã—", "ã•ã¦"], "answer": "ã‚ˆã†ã™ã‚‹ã«" },
  { "sentence": "ãƒ†ã‚¹ãƒˆå‰ã«ä½•ã‚‚ã—ã¦ã„ãªã„ã€‚ï¼¿ï¼¿ï¼¿ã€ã˜ã‚…ã‚“ã³ã¶ããã ã€‚", "options": ["ã‚ˆã†ã™ã‚‹ã«", "ã—ã‹ã—", "ã ã‹ã‚‰"], "answer": "ã‚ˆã†ã™ã‚‹ã«" },

  { "sentence": "é›¨ã®æ—¥ã®ã˜ã‚…ã‚“ã³ã‚’ã—ã¾ã—ã‚‡ã†ã€‚ï¼¿ï¼¿ï¼¿ã€ã‹ã•ã€é•·ãã¤ã€ã‚«ãƒƒãƒ‘ãªã©ã§ã™ã€‚", "options": ["ãŸã¨ãˆã°", "ã—ã‹ã—", "ãã‚Œã§ã‚‚"], "answer": "ãŸã¨ãˆã°" },
  { "sentence": "ã„ã‚ã„ã‚ãªãã ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚ï¼¿ï¼¿ï¼¿ã€ãƒªãƒ³ã‚´ã‚„ãƒãƒŠãƒŠãªã©ã§ã™ã€‚", "options": ["ãŸã¨ãˆã°", "ã ã‹ã‚‰", "ãã‚Œã«"], "answer": "ãŸã¨ãˆã°" },
  { "sentence": "ç‹æ§˜ã¨ã‚ˆã°ã‚Œã‚‹å‹•ç‰©ãŒã„ã¾ã™ã€‚ï¼¿ï¼¿ï¼¿ã€ãƒ©ã‚¤ã‚ªãƒ³ã§ã™ã€‚", "options": ["ãŸã¨ãˆã°", "ã‘ã‚Œã©ã‚‚", "ãã‚Œã§"], "answer": "ãŸã¨ãˆã°" },

  { "sentence": "ä»Šæ—¥ã¯å­¦æ ¡ã‚’ã‚„ã™ã¿ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã³ã‚‡ã†ãã§ã—ãŸã€‚", "options": ["ãªãœã‹ã¨ã„ã†ã¨", "ã ã‹ã‚‰", "ã•ã¦"], "answer": "ãªãœã‹ã¨ã„ã†ã¨" },
  { "sentence": "çŠ¬ãŒå¥½ãã§ã™ã€‚ï¼¿ï¼¿ï¼¿ã€ã‹ã‚ã„ãã¦ã€ãªã¤ã„ã¦ãã‚Œã‚‹ã‹ã‚‰ã§ã™ã€‚ã€‚", "options": ["ãªãœã‹ã¨ã„ã†ã¨", "ã—ã‹ã‚‚", "ã•ã¦"], "answer": "ãªãœã‹ã¨ã„ã†ã¨" },
  { "sentence": "å‹ã ã¡ã¯æ¥ã¾ã›ã‚“ã§ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã³ã‚‡ã†ãã ã£ãŸã‹ã‚‰ã§ã™ã€‚", "options": ["ãªãœã‹ã¨ã„ã†ã¨", "ãã‚Œã«", "ã§ã‚‚"], "answer": "ãªãœã‹ã¨ã„ã†ã¨" },

  { "sentence": "ã¿ã‚“ãªæ¥ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã¯ã˜ã‚ã¾ã—ã‚‡ã†ã€‚", "options": ["ã§ã¯", "ãã‚Œã«", "ã‘ã‚Œã©ã‚‚"], "answer": "ã§ã¯" },
  { "sentence": "ãƒ—ãƒªãƒ³ãƒˆãŒçµ‚ã‚ã‚Šã¾ã—ãŸã­ã€‚ï¼¿ï¼¿ï¼¿ã€ã¤ãã«ãƒ‰ãƒªãƒ«ã‚’ã—ã¾ã—ã‚‡ã†ã€‚", "options": ["ã§ã¯", "ã‘ã‚Œã©ã‚‚", "ãŸã¨ãˆã°"], "answer": "ã§ã¯" },
  { "sentence": "ãƒãƒ£ã‚¤ãƒ ãŒé³´ã‚Šã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€æ•™å®¤ã«ã‚‚ã©ã‚Šã¾ã—ã‚‡ã†ã€‚", "options": ["ã§ã¯", "ã ã‘ã©", "ã—ã‹ã‚‚"], "answer": "ã§ã¯" },

  { "sentence": "ã“ã®ã¯ãªã—ã¯ã“ã“ã¾ã§ã§ã™ã€‚ï¼¿ï¼¿ï¼¿ã€ã¤ãã®ã¯ãªã—ã‚’ã—ã¾ã—ã‚‡ã†ã€‚", "options": ["ã•ã¦", "ã¾ãŸ", "ã‚ˆã†ã™ã‚‹ã«"], "answer": "ã•ã¦" },
  { "sentence": "ä»Šæ—¥ã¯ã‹ã‘ç®—ã«ã¤ã„ã¦å­¦ç¿’ã—ã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã—ã¤ã‚‚ã‚“ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ", "options": ["ã•ã¦", "ã¾ãŸã¯", "ãã®ãŸã‚"], "answer": "ã•ã¦" },
  { "sentence": "ã¿ãªã•ã‚“ã€ãã‚‡ã†ã‚‚ã‚ˆãã§ãã¾ã—ãŸã€‚ï¼¿ï¼¿ï¼¿ã€ã“ã®å•é¡Œã¯ã¨ã‘ã¾ã™ã‹ï¼Ÿ", "options": ["ã•ã¦", "ãªãœã‹ã¨ã„ã†ã¨", "ã§ã‚‚"], "answer": "ã•ã¦" },

  { "sentence": "æ˜ ç”»ã¯ãŠã‚‚ã—ã‚ã‹ã£ãŸã­ã€‚ï¼¿ï¼¿ï¼¿ã€å®¿é¡Œã¯ã‚‚ã†çµ‚ã‚ã£ãŸã‹ãªã€‚", "options": ["ã¨ã“ã‚ã§", "ã¤ã¾ã‚Š", "ã§ã‚‚"], "answer": "ã¨ã“ã‚ã§" },
  { "sentence": "æ–™ç†ãŒã¨ãã„ãªã‚“ã ã€‚ï¼¿ï¼¿ï¼¿ã€ãã¿ã®å¥½ããªã“ã¨ã£ã¦ãªã«ã€‚", "options": ["ã¨ã“ã‚ã§", "ã¾ãŸã¯", "ã ã‹ã‚‰"], "answer": "ã¨ã“ã‚ã§" },
  { "sentence": "ãƒ†ã‚¹ãƒˆã¯ã‚€ãšã‹ã—ã‹ã£ãŸã­ã€‚ï¼¿ï¼¿ï¼¿ã€æ¬¡ã®ãƒ†ã‚¹ãƒˆã¯ã„ã¤ã§ã™ã‹ã€‚", "options": ["ã¨ã“ã‚ã§", "ã ã‘ã©", "ãã‚Œã¨ã‚‚"], "answer": "ã¨ã“ã‚ã§" },


];


    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function getQuizSequence(data, count) {
      return shuffle([...data]).slice(0, count);
    }

    const quizData = shuffle([...fullQuizData]).slice(0, 10);
    let current = 0;
    let quizStartTime; // â† ã‚¯ã‚¤ã‚ºå…¨ä½“ã®é–‹å§‹æ™‚é–“ã‚’è¨˜éŒ²
    let correctCount = 0;
    let solveTimes = []; 
    let playerAnswers = [];
    const questionBox = document.getElementById("question");
    const doorsBox = document.getElementById("doors");
    const feedbackBox = document.getElementById("feedback");
    const resultBox = document.getElementById("result");   
    let startTime;           


    function loadQuestion() {
      if (current === 0) quizStartTime = Date.now(); // â† åˆå›ã ã‘å…¨ä½“ã®é–‹å§‹æ™‚é–“ã‚’è¨˜éŒ²
      startTime = Date.now();
      const quiz = quizData[current];
      questionBox.textContent = `(${current + 1}/${quizData.length}) ${quiz.sentence}`;
      doorsBox.innerHTML = "";
      feedbackBox.textContent = "";

      const shuffledOptions = [...quiz.options];
      for (let i = shuffledOptions.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffledOptions[i], shuffledOptions[j]] = [shuffledOptions[j], shuffledOptions[i]];
      }

      shuffledOptions.forEach(option => {
        const button = document.createElement("button");
        button.className = "option-button";
        button.textContent = option;
        button.onclick = () => choose(button, option, quiz.answer);
        doorsBox.appendChild(button);
      });
    }

    function choose(button, selected, correct) {
      const isCorrect = selected === correct;
      if (isCorrect) correctCount++;
      playerAnswers.push({
  sentence: quizData[current].sentence,
  selected: selected,
  correct: correct,
  isCorrect: isCorrect
});


      const buttons = document.querySelectorAll(".option-button");
      buttons.forEach(btn => btn.disabled = true);

      button.classList.add("opened");
       const endTime = performance.now();
       const timeTaken = (endTime - startTime) / 1000; // ç§’ã«å¤‰æ›
       solveTimes.push(timeTaken);
button.addEventListener("animationend", () => {
  const mark = document.createElement("div");
  mark.textContent = isCorrect ? "â—‹" : "Ã—";
  mark.className = "feedback-mark";
  mark.style.color = isCorrect ? "green" : "red";
  mark.style.left = button.offsetLeft + button.offsetWidth / 2 + "px";
  mark.style.top = button.offsetTop + button.offsetHeight / 2 + "px";
  doorsBox.appendChild(mark);

  if (isCorrect) {
    setTimeout(nextStep, 1000);
  } else {
    feedbackBox.textContent = "æ­£è§£ã¯â€¦";
    setTimeout(() => {
      feedbackBox.textContent = "";
      buttons.forEach(btn => {
        if (btn.textContent === correct) {
          const frame = document.createElement("div");
          frame.className = "correct-frame";
          frame.style.width = btn.offsetWidth + "px";
          frame.style.height = btn.offsetHeight + "px";
          frame.style.left = btn.offsetLeft + "px";
          frame.style.top = btn.offsetTop + "px";
          doorsBox.appendChild(frame);
        }
      });
      setTimeout(nextStep, 2000);
    }, 2000);
  }
}, { once: true });

      
    }

    function nextStep() {
      current++;
      if (current < quizData.length) {
        loadQuestion();
      } 
      else {
  questionBox.textContent = "";
  doorsBox.innerHTML = "";
  feedbackBox.textContent = "";

  let message = "";
if (correctCount >= 9) {
  message = "ğŸŒŸã™ã°ã‚‰ã—ã„ï¼ã“ã¨ã°åäººï¼ğŸŒŸ";
  resultBox.style.color = "gold";
  resultBox.style.fontSize = "2.5em";
  resultBox.style.animation = "pop 1s ease";
  document.body.style.backgroundColor = "#fffbe7";
} else if (correctCount >= 6) {
  message = "ğŸ˜Šã‚ˆãã§ãã¾ã—ãŸï¼ğŸ˜Š";
  resultBox.style.color = "dodgerblue";
  resultBox.style.fontSize = "2.2em";
  resultBox.style.animation = "fadein 1s ease";
  document.body.style.backgroundColor = "#eef";
} else if (correctCount >= 3) {
  message = "ğŸ˜Œã‚‚ã†ã™ã“ã—ï¼ãŒã‚“ã°ã‚ã†";
  resultBox.style.color = "gray";
  resultBox.style.fontSize = "2em";
  resultBox.style.animation = "fadein 1s ease";
  document.body.style.backgroundColor = "#eef";
} else {
  message = "ğŸ’¡ã¤ãã¯ã‚‚ã£ã¨ã§ãã‚‹ã‚ˆï¼";
  resultBox.style.color = "darkgray";
  resultBox.style.fontSize = "1.8em";
  resultBox.style.animation = "fadein 1s ease";
  document.body.style.backgroundColor = "#eef";
}

resultBox.innerHTML = `
  ãŠã—ã¾ã„ï¼<br>
  æ­£è§£æ•°ï¼š${correctCount} / ${quizData.length}<br><br>
  ${message}<br><br>
  <button id="retryButton" style="
    margin-top: 10px;
    padding: 8px 16px;
    font-size: 1em;
    cursor: pointer;
    border-radius: 6px;
    border: 1px solid #999;
    background-color: white;
  ">ã‚‚ã†ã„ã¡ã©éŠã¶</button>
`;
resultBox.style.display = "block";

document.getElementById("retryButton").onclick = () => {
  current = 0;
  correctCount = 0;
  playerAnswers = [];
  quizData.splice(0, quizData.length, ...shuffle([...fullQuizData]).slice(0, 10));

  resultBox.innerHTML = "";
  resultBox.style.display = "none";
  document.body.style.backgroundColor = "#eef";

  loadQuestion();
};

  const table = document.createElement("table");
  table.style.margin = "20px auto";
  table.style.borderCollapse = "collapse";
  table.style.width = "90%";
  table.style.maxWidth = "800px";
  table.style.fontSize = "1em";
  const header = document.createElement("tr");
  ["No", "å•é¡Œæ–‡", "ã‚ãªãŸã®ç­”ãˆ", "æ­£è§£", "â—‹Ã—"].forEach(text => {
    const th = document.createElement("th");
    th.textContent = text;
    th.style.border = "1px solid #999";
    th.style.padding = "8px";
    th.style.background = "#f0f0f0";
    header.appendChild(th);
  });
  table.appendChild(header);

  playerAnswers.forEach((item, index) => {
    const row = document.createElement("tr");

    const cells = [
      index + 1,
      item.sentence.replace("ï¼¿ï¼¿ï¼¿", "____"),
      item.selected,
      item.correct,
      item.isCorrect ? "â­•" : "âŒ"
    ];

    cells.forEach(text => {
      const td = document.createElement("td");
      td.textContent = text;
      td.style.border = "1px solid #999";
      td.style.padding = "6px";
      td.style.textAlign = "center";
      row.appendChild(td);
    
    });

  table.appendChild(row);
  });

      resultBox.appendChild(table);

  

  } // â† nextStep() ã®é–‰ã˜ã‚«ãƒƒã‚³
    }
  window.onload = loadQuestion;
</script>
</body>
</html>
